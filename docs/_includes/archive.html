<h2>Archive</h2>
<div class="tag-cloud"> <!-- Optional: Wrap with a div for styling -->
  {% capture temptags %}
    {% for tag in site.tags %}
      {{ tag[1].size | plus: 1000 }}#{{ tag[0] | strip }}#{{ tag[1].size }}
    {% endfor %}
  {% endcapture %}
  
  {% assign sortedtemptags = temptags | split: ' ' | sort: 'natural' | reverse %}
  
  {% for temptag in sortedtemptags %}
    {% assign tagitems = temptag | split: '#' %}
    
    {% assign tagname = tagitems[1] | strip %} <!-- Use strip here -->
    
    <a href="/tag/{{ tagname | url_encode }}" class="tag-item"> <!-- URL encode the tag -->
      <code class="highligher-rouge">
        <nobr>{{ tagname }}</nobr>
      </code>
    </a>
    
    {% if forloop.last == false %} <!-- Add space if not the last item -->
      <span style="margin-right: 5px;"></span>
    {% endif %}
  {% endfor %}
</div>
